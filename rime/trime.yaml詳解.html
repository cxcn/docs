<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>附录： schema.yaml中的trime | 文档</title>
    <meta name="description" content="某不知名的输入法文档站">
    <meta name="generator" content="VitePress v1.0.0-rc.36">
    <link rel="preload stylesheet" href="/assets/style.JEC9gkP2.css" as="style">
    
    <script type="module" src="/assets/app.qdYzxTJH.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.WKpLpN6N.js">
    <link rel="modulepreload" href="/assets/chunks/theme.tzc_PK4j.js">
    <link rel="modulepreload" href="/assets/rime_trime.yaml詳解.md.v1EPBTUh.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-536465c6><!--[--><!--]--><!--[--><span tabindex="-1" data-v-49e15d6b></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-49e15d6b> Skip to content </a><!--]--><!----><header class="VPNav" data-v-536465c6 data-v-347c35b3><div class="VPNavBar has-sidebar" data-v-347c35b3 data-v-bea053d0><div class="wrapper" data-v-bea053d0><div class="container" data-v-bea053d0><div class="title" data-v-bea053d0><div class="VPNavBarTitle has-sidebar" data-v-bea053d0 data-v-44c05138><a class="title" href="/" data-v-44c05138><!--[--><!--]--><!----><!--[-->文档<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-bea053d0><div class="content-body" data-v-bea053d0><!--[--><!--]--><div class="VPNavBarSearch search" data-v-bea053d0><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-bea053d0 data-v-e96aff8f><span id="main-nav-aria-label" class="visually-hidden" data-v-e96aff8f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-e96aff8f data-v-f72b4fa1><!--[--><span data-v-f72b4fa1>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/rime/" tabindex="0" data-v-e96aff8f data-v-f72b4fa1><!--[--><span data-v-f72b4fa1>Rime</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-e96aff8f data-v-d1264112><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d1264112><span class="text" data-v-d1264112><!----><span data-v-d1264112>List</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-d1264112><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-d1264112><div class="VPMenu" data-v-d1264112 data-v-dfbaa302><div class="items" data-v-dfbaa302><!--[--><!--[--><div class="VPMenuLink" data-v-dfbaa302 data-v-c0f71df2><a class="VPLink link" href="/xingchen/" data-v-c0f71df2><!--[-->星辰双拼<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-dfbaa302 data-v-c0f71df2><a class="VPLink link" href="/xingchen/" data-v-c0f71df2><!--[-->心流双拼<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-dfbaa302 data-v-c0f71df2><a class="VPLink link" href="/xingchen/" data-v-c0f71df2><!--[-->小可两笔<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-dfbaa302 data-v-c0f71df2><a class="VPLink link" href="/xingchen/" data-v-c0f71df2><!--[-->倾心两笔<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-bea053d0 data-v-9b262213><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-9b262213 data-v-bce60b10 data-v-a1e8f170><span class="check" data-v-a1e8f170><span class="icon" data-v-a1e8f170><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bce60b10><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bce60b10><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-bea053d0 data-v-faeb8ebe data-v-cd4583c4><!--[--><a class="VPSocialLink no-icon" href="https://github.com/nopdan/docs" aria-label="github" target="_blank" rel="noopener" data-v-cd4583c4 data-v-129c95b6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&amp;k=mCNAUgTWirjPnkYWf2tkfd_Px-1VEOyq&amp;authKey=j0NgWMLeNtdhgZsZ9qvHm2Wvp8rC2gggl0MAmodnwk9TUvJ5KgXKTXI9K6w2jUOD&amp;noverify=0&amp;group_code=311818880" aria-label target="_blank" rel="noopener" data-v-cd4583c4 data-v-129c95b6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tencent-qq" viewBox="0 0 16 16">
            <path d="M6.048 3.323c.022.277-.13.523-.338.55-.21.026-.397-.176-.419-.453-.022-.277.13-.523.338-.55.21-.026.397.176.42.453Zm2.265-.24c-.603-.146-.894.256-.936.333-.027.048-.008.117.037.15.045.035.092.025.119-.003.361-.39.751-.172.829-.129l.011.007c.053.024.147.028.193-.098.023-.063.017-.11-.006-.142-.016-.023-.089-.08-.247-.118Z"/>
            <path fill-rule="evenodd" d="M11.727 6.719c0-.022.01-.375.01-.557 0-3.07-1.45-6.156-5.015-6.156-3.564 0-5.014 3.086-5.014 6.156 0 .182.01.535.01.557l-.72 1.795a25.85 25.85 0 0 0-.534 1.508c-.68 2.187-.46 3.093-.292 3.113.36.044 1.401-1.647 1.401-1.647 0 .979.504 2.256 1.594 3.179-.408.126-.907.319-1.228.556-.29.213-.253.43-.201.518.228.386 3.92.246 4.985.126 1.065.12 4.756.26 4.984-.126.052-.088.088-.305-.2-.518-.322-.237-.822-.43-1.23-.557 1.09-.922 1.594-2.2 1.594-3.178 0 0 1.041 1.69 1.401 1.647.168-.02.388-.926-.292-3.113a25.78 25.78 0 0 0-.534-1.508l-.72-1.795ZM9.773 5.53c-.13-.286-1.431-.605-3.042-.605h-.017c-1.611 0-2.913.319-3.042.605a.096.096 0 0 0-.01.04c0 .022.008.04.018.056.11.159 1.554.943 3.034.943h.017c1.48 0 2.924-.784 3.033-.943a.095.095 0 0 0 .008-.096Zm-4.32-.989c-.483.022-.896-.529-.922-1.229-.026-.7.344-1.286.828-1.308.483-.022.896.529.922 1.23.027.7-.344 1.286-.827 1.307Zm2.538 0c.483.022.896-.529.922-1.229.026-.7-.344-1.286-.827-1.308-.484-.022-.896.529-.923 1.23-.026.7.344 1.285.828 1.307ZM2.928 8.99a10.674 10.674 0 0 0-.097 2.284c.146 2.45 1.6 3.99 3.846 4.012h.091c2.246-.023 3.7-1.562 3.846-4.011.054-.9 0-1.663-.097-2.285-1.312.26-2.669.41-3.786.396h-.017c-.297.003-.611-.005-.937-.023v2.148c-1.106.154-2.21-.068-2.21-.068V9.107a22.93 22.93 0 0 1-.639-.117Z"/>
            </svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-bea053d0 data-v-1b0425f6 data-v-d1264112><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d1264112><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-d1264112><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-d1264112><div class="VPMenu" data-v-d1264112 data-v-dfbaa302><!----><!--[--><!--[--><!----><div class="group" data-v-1b0425f6><div class="item appearance" data-v-1b0425f6><p class="label" data-v-1b0425f6>Appearance</p><div class="appearance-action" data-v-1b0425f6><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-1b0425f6 data-v-bce60b10 data-v-a1e8f170><span class="check" data-v-a1e8f170><span class="icon" data-v-a1e8f170><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-bce60b10><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-bce60b10><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-1b0425f6><div class="item social-links" data-v-1b0425f6><div class="VPSocialLinks social-links-list" data-v-1b0425f6 data-v-cd4583c4><!--[--><a class="VPSocialLink no-icon" href="https://github.com/nopdan/docs" aria-label="github" target="_blank" rel="noopener" data-v-cd4583c4 data-v-129c95b6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&amp;k=mCNAUgTWirjPnkYWf2tkfd_Px-1VEOyq&amp;authKey=j0NgWMLeNtdhgZsZ9qvHm2Wvp8rC2gggl0MAmodnwk9TUvJ5KgXKTXI9K6w2jUOD&amp;noverify=0&amp;group_code=311818880" aria-label target="_blank" rel="noopener" data-v-cd4583c4 data-v-129c95b6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-tencent-qq" viewBox="0 0 16 16">
            <path d="M6.048 3.323c.022.277-.13.523-.338.55-.21.026-.397-.176-.419-.453-.022-.277.13-.523.338-.55.21-.026.397.176.42.453Zm2.265-.24c-.603-.146-.894.256-.936.333-.027.048-.008.117.037.15.045.035.092.025.119-.003.361-.39.751-.172.829-.129l.011.007c.053.024.147.028.193-.098.023-.063.017-.11-.006-.142-.016-.023-.089-.08-.247-.118Z"/>
            <path fill-rule="evenodd" d="M11.727 6.719c0-.022.01-.375.01-.557 0-3.07-1.45-6.156-5.015-6.156-3.564 0-5.014 3.086-5.014 6.156 0 .182.01.535.01.557l-.72 1.795a25.85 25.85 0 0 0-.534 1.508c-.68 2.187-.46 3.093-.292 3.113.36.044 1.401-1.647 1.401-1.647 0 .979.504 2.256 1.594 3.179-.408.126-.907.319-1.228.556-.29.213-.253.43-.201.518.228.386 3.92.246 4.985.126 1.065.12 4.756.26 4.984-.126.052-.088.088-.305-.2-.518-.322-.237-.822-.43-1.23-.557 1.09-.922 1.594-2.2 1.594-3.178 0 0 1.041 1.69 1.401 1.647.168-.02.388-.926-.292-3.113a25.78 25.78 0 0 0-.534-1.508l-.72-1.795ZM9.773 5.53c-.13-.286-1.431-.605-3.042-.605h-.017c-1.611 0-2.913.319-3.042.605a.096.096 0 0 0-.01.04c0 .022.008.04.018.056.11.159 1.554.943 3.034.943h.017c1.48 0 2.924-.784 3.033-.943a.095.095 0 0 0 .008-.096Zm-4.32-.989c-.483.022-.896-.529-.922-1.229-.026-.7.344-1.286.828-1.308.483-.022.896.529.922 1.23.027.7-.344 1.286-.827 1.307Zm2.538 0c.483.022.896-.529.922-1.229.026-.7-.344-1.286-.827-1.308-.484-.022-.896.529-.923 1.23-.026.7.344 1.285.828 1.307ZM2.928 8.99a10.674 10.674 0 0 0-.097 2.284c.146 2.45 1.6 3.99 3.846 4.012h.091c2.246-.023 3.7-1.562 3.846-4.011.054-.9 0-1.663-.097-2.285-1.312.26-2.669.41-3.786.396h-.017c-.297.003-.611-.005-.937-.023v2.148c-1.106.154-2.21-.068-2.21-.068V9.107a22.93 22.93 0 0 1-.639-.117Z"/>
            </svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-bea053d0 data-v-17bb9898><span class="container" data-v-17bb9898><span class="top" data-v-17bb9898></span><span class="middle" data-v-17bb9898></span><span class="bottom" data-v-17bb9898></span></span></button></div></div></div></div><div class="divider" data-v-bea053d0><div class="divider-line" data-v-bea053d0></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-536465c6 data-v-88a44371><div class="container" data-v-88a44371><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-88a44371><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-88a44371><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-88a44371>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-88a44371 data-v-1ce6ab9f><button data-v-1ce6ab9f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-536465c6 data-v-dd6a3692><div class="curtain" data-v-dd6a3692></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-dd6a3692><span class="visually-hidden" id="sidebar-aria-label" data-v-dd6a3692> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>开始</h2><!----></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Introduction.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>自序</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/RimeUserGuide.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>说明书</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Rime%E6%B1%87%E6%80%BB.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Rime 汇总</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0 collapsible collapsed" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bbc15b6a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bbc15b6a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/UserData.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>用户文件夹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/SharedData.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>共享文件夾</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/YamlGrammar.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>YAML 语法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link vp-external-link-icon link" href="https://www.runoob.com/regexp/regexp-tutorial.html" target="_blank" rel="noreferrer" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>正则表达式</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>进阶</h2><!----></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Configuration.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Rime 配置文件</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Rime%E5%AE%9A%E5%88%B6%E6%8C%87%E5%8D%97.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Rime 定制指南</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/RimeWithSchemata.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>输入方案设计书</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Rime%E6%96%B9%E6%A1%88%E8%A3%BD%E4%BD%9C%E8%A9%B3%E8%A7%A3.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Schema.yaml 詳解</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/SpellingAlgebra.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>拼写运算</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0 has-active" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>trime 同文</h2><!----></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/UserGuide.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>简易索引</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/YamlTrime.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>YAML in trime</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/trime.yaml%E8%A9%B3%E8%A7%A3.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>trime.yaml 詳解</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-bbc15b6a data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h3 class="text" data-v-bbc15b6a>案例参考-五笔双键配置案例详解(待完善)</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bbc15b6a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bbc15b6a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-2 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/%E4%BA%94%E7%AC%94%E5%8F%8C%E9%94%AE%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3(%E4%B8%80)-%E5%87%86%E5%A4%87%E7%AF%87.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>(一) 准备篇</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/%E4%BA%94%E7%AC%94%E5%8F%8C%E9%94%AE%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3(%E4%BA%8C)-%E6%B7%BB%E5%8A%A0%E4%B8%80%E4%B8%AA%E8%BE%93%E5%85%A5%E6%96%B9%E6%A1%88.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>(二) 添加一个输入方案</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/%E4%BA%94%E7%AC%94%E5%8F%8C%E9%94%AE%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3(%E4%B8%89)-%E7%94%A8%E6%A8%A1%E7%B3%8A%E9%9F%B3%E5%AE%9E%E7%8E%B0%E5%8F%8C%E9%94%AE%E8%BD%AC%E6%8D%A2.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>(三) 用模糊音实现双键转换</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/%E4%BA%94%E7%AC%94%E5%8F%8C%E9%94%AE%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3(%E5%9B%9B)-%E5%AE%9E%E7%8E%B0%E6%89%8B%E6%9C%BA%E4%B8%8A%E7%9A%84%E5%8F%8C%E9%94%AE%E9%94%AE%E7%9B%98.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>(四) 实现手机上的双键键盘</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>librime-lua</h2><!----></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/luaHome.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>Home</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Scripting.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>脚本开发指南</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-dd6a3692><section class="VPSidebarItem level-0 collapsible collapsed" data-v-dd6a3692 data-v-bbc15b6a><div class="item" role="button" tabindex="0" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><h2 class="text" data-v-bbc15b6a>其他</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-bbc15b6a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-bbc15b6a><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-bbc15b6a><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/DictionaryPack.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>詞典擴展包</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/Recipes.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>配方</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/RimeWithTheDesign.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>概念解讀</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/MoodCollection.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>心情集</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/UserQuotes.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>用家如是說</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bbc15b6a data-v-bbc15b6a><div class="item" data-v-bbc15b6a><div class="indicator" data-v-bbc15b6a></div><a class="VPLink link link" href="/rime/FAQ.html" data-v-bbc15b6a><!--[--><p class="text" data-v-bbc15b6a>FAQ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-536465c6 data-v-1cce5cbd><div class="VPDoc has-sidebar has-aside" data-v-1cce5cbd data-v-dca4f460><!--[--><!--]--><div class="container" data-v-dca4f460><div class="aside" data-v-dca4f460><div class="aside-curtain" data-v-dca4f460></div><div class="aside-container" data-v-dca4f460><div class="aside-content" data-v-dca4f460><div class="VPDocAside" data-v-dca4f460 data-v-e915b743><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-e915b743 data-v-6e2bd73f><div class="content" data-v-6e2bd73f><div class="outline-marker" data-v-6e2bd73f></div><div class="outline-title" role="heading" aria-level="2" data-v-6e2bd73f>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-6e2bd73f><span class="visually-hidden" id="doc-outline-aria-label" data-v-6e2bd73f> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-6e2bd73f data-v-200e5380><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e915b743></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-dca4f460><div class="content-container" data-v-dca4f460><!--[--><!--]--><main class="main" data-v-dca4f460><div style="position:relative;" class="vp-doc _rime_trime_yaml%E8%A9%B3%E8%A7%A3" data-v-dca4f460><div><p>（基于同文 V3.1.2 20181229 版修订，[3.2.3] <s>xxxxx</s>表示此功能在 V3.2.3 会被弃用，[3.2.3]xxxx 表示此功能在 V3.2.3 之后才能使用）</p><h2 id="必知必会" tabindex="-1">必知必会 <a class="header-anchor" href="#必知必会" aria-label="Permalink to &quot;必知必会&quot;">​</a></h2><p>您可能需要先了解 YAML 的<a href="https://github.com/osfans/trime/wiki/trimer%E5%B0%8F%E7%9F%A5%E8%AF%86(2)---%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9Byaml%E8%AF%AD%E6%B3%95" target="_blank" rel="noreferrer">基本语法</a>。这篇<a href="https://github.com/rime/home/wiki/CustomizationGuide#%E5%AE%9A%E8%A3%BD%E6%8C%87%E5%8D%97" target="_blank" rel="noreferrer">定制指南</a>里有一些实例可以帮助您理解 Rime 的配置方式。另外 Rime 在 YAML 语法的基础上新增了<a href="https://github.com/rime/home/wiki/Configuration" target="_blank" rel="noreferrer">编译指令</a>，想要更灵活地制作同文主题的同学可以参考一下。</p><h2 id="一、style" tabindex="-1">一、<code>style</code> <a class="header-anchor" href="#一、style" aria-label="Permalink to &quot;一、`style`&quot;">​</a></h2><p>界面样式及特色功能</p><h3 id="_1-功能" tabindex="-1">1. 功能 <a class="header-anchor" href="#_1-功能" aria-label="Permalink to &quot;1. 功能&quot;">​</a></h3><ul><li><code>auto_caps</code>: 自动句首大写（<code>true</code>:打开;<code>false</code>:关闭;<code>ascii</code>:仅英文模式句首大写）</li><li><code>candidate_use_cursor</code>: 候选焦点高亮（<code>true</code>:打开;<code>false</code>:关闭）</li><li><code>comment_on_top</code>: 候选项注释在上方或右侧 （<code>true</code>:在上方；<code>false</code>:在右侧）</li><li><code>horizontal</code>： 水平模式。改变方向键的功能 （<code>true</code>：方向键适配横排候选；<code>false</code>：方向键适配竖排候选）</li><li><code>keyboards</code>: 键盘配置。除主键盘外，其它需要用到的键盘都要在这里声明。</li><li><code>proximity_correction</code>: 将按键之间的空白区域分配给相邻的按键，避免空按（<code>true</code>:打开；<code>false</code>:关闭）</li><li>[3.2.3]<code>background_folder</code>：背景图路径，即保存在 background 的哪个子目录。 使用此参数可以方便管理多个主题的图片（当然也可以指定多个主题共用一套图片）。</li><li><code>reset_ascii_mode</code>: 不同进程中显示键盘时重置为中文状态（<code>true</code>:重置为中文；<code>false</code>:记忆中英状态）</li><li><code>latin_locale</code>: 在英文状态（ascii_mode）下，朗读按键时所用的语言。</li><li><code>locale</code>: 在中文状态下，朗读上屏文本和按键时所用的语言。<br> ※ 需要先在同文设置界面开启朗读功能。朗读功能还需要手机的 TTS 引擎支持。可使用系统默认引擎，也可安装讯飞语记等第三方引擎。<code>latin_local</code>和<code>local</code>可以设置的语言也取决于 TTS 引擎。常见的语言：<code>zh_TW</code>, <code>zh_CN</code>, <code>zh_HK</code>, <code>en_US</code>, <code>ja_JP</code>, <code>ko_KR</code>,……</li><li><code>speech_opencc_config</code>: 语音输入简繁转换（默认值<code>s2t.json</code>: 将语音识别的结果转换成繁体再上屏）<br> 需要配合 OpenCC 组件来使用。转换的选项有： <ul><li><code>s2t.json</code> #简体 → 繁体</li><li><code>t2s.json</code> #繁体 → 简体</li><li><code>s2hk.json</code> #简体 → 香港繁体</li><li><code>hk2s.json</code> #香港繁体 → 简体</li><li><code>s2tw.json</code> #简体 → 台湾繁体</li><li><code>s2twp.json</code> #简体 → 台湾繁体，并转换常用词汇（网络 → 網路）</li><li><code>tw2s.json</code> #台湾繁体 → 简体</li><li><code>tw2sp.json</code> #台湾繁体 → 简体，并转换常用词汇（作業系統 → 操作系统）</li><li><code>t2hk.json</code> #OpenCC 标准繁体 → 香港繁体</li><li><code>t2tw.json</code> #OpenCC 标准繁体 → 台湾繁体</li><li>如果不需要转换，想让语音引擎按原样输出，可设为<code>none</code>。(2017-9-13 开始，也可以直接注释掉)<br> ⚠ 同文输入法的语音输入依赖的是手机的「语音识别服务」，而且必须安装「讯飞语记」或者「讯飞语音+」才能使用。</li></ul></li></ul><h4 id="示例-开启英文模式句首自动大写" tabindex="-1">示例：开启英文模式句首自动大写 <a class="header-anchor" href="#示例-开启英文模式句首自动大写" aria-label="Permalink to &quot;示例：开启英文模式句首自动大写&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/auto_caps&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ascii</span></span></code></pre></div><h4 id="示例-在预设-26-键键盘上添加语音输入键" tabindex="-1">示例：在预设 26 键键盘上添加语音输入键 <a class="header-anchor" href="#示例-在预设-26-键键盘上添加语音输入键" aria-label="Permalink to &quot;示例：在预设 26 键键盘上添加语音输入键&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@31/click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">VOICE_ASSIST</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #将原来的符号键替换为语音键</span></span></code></pre></div><p>※ 对于默认主题<code>trime.yaml</code>，修改的时候需要打补丁。对于自制的主题，一般不需要打补丁。<br> 上例若直接修改主题文件，是这样做的：<br> 查找按键布局<code>qwerty</code>，<br> 将按键<code>{click: Keyboard_symbols, long_click: Keyboard_number}</code> 修改成<code>{click: VOICE_ASSIST, long_click: Keyboard_number}</code></p><h3 id="_2-字体" tabindex="-1">2. 字体 <a class="header-anchor" href="#_2-字体" aria-label="Permalink to &quot;2. 字体&quot;">​</a></h3><img src="http://imgsrc.baidu.com/forum/pic/item/8a198e51f3deb48f5b268967f71f3a292cf5781b.jpg" alt="字体分布图" width="512" height="534"><ul><li><code>text_font</code>: 编码字体</li><li><code>label_font</code>: 悬浮窗候选项序号字体</li><li><code>candidate_font</code>: 候选字体</li><li><code>comment_font</code>: 候选注释字体</li><li><code>hanb_font</code>: 后备字体。用于补充候选字体（<code>candidate_font</code>）。<br> ※ 某些特殊符号，或者很多生僻字（比如 Unicode Ext-B~Ext-F 的字符）在大多数手机上通常都会显示成方框或空白。<code>hanb_font</code>可以使这些字符在同文输入法里正常显示（推荐使用<a href="https://zh.osdn.net/projects/hanazono-font/releases/" target="_blank" rel="noreferrer">花园明朝</a>B 字体：HanaMinB.ttf）。您也可以直接在系统中设置 fallback 字体（全局生效，但需要 root）。</li><li><code>latin_font</code>: 候选及候选注释拉丁字体（暂时对悬浮窗候选无效）<br> ※ 当<code>latin_font</code>生效时，拉丁字符（&lt; 0x2e80）就不再由<code>comment_font</code>和<code>candidate_font</code>控制</li><li><code>key_font</code>: 按键字体（click）</li><li><code>symbol_font</code>: 符号字体（long_click 和 hint）</li><li><code>preview_font</code>: 按键气泡字体</li></ul><h3 id="_3-尺寸" tabindex="-1">3. 尺寸 <a class="header-anchor" href="#_3-尺寸" aria-label="Permalink to &quot;3. 尺寸&quot;">​</a></h3><ul><li><code>text_size</code>: 编码大小</li><li><code>label_text_size</code>: 悬浮窗候选项序号大小</li><li><code>candidate_padding</code>: 候选项内边距（影响候选项的间距）</li><li><code>candidate_spacing</code>: 候选分割线宽度</li><li><code>candidate_text_size</code>: 候选字大小</li><li><code>candidate_view_height</code>: 候选区高度</li><li><code>comment_text_size</code>: 候选注释大小</li><li><code>comment_height</code>: 候选注释区高度</li><li><code>key_height</code>: 键高*</li><li><code>key_width</code>: 键宽*，占屏幕宽的百分比<br> ⚠ 当按键布局中的<code>height</code>与<code>width</code>省略不写时，此处设置的<code>key_height</code>与<code>key_width</code>才会生效。</li><li><code>key_text_size</code>: 按键文本大小（click）</li><li><code>key_long_text_size</code>: 按键长文本大小（字数 ≥2）</li><li><code>symbol_text_size</code>: 符号大小（long_click 和 hint）</li><li><code>round_corner</code>: 按键圆角半径</li><li><code>preview_height</code>: 按键气泡高度</li><li><code>preview_offset</code>: 按键气泡纵向偏移（默认值<code>-12</code>，向下偏移为正，向上偏移为负）</li><li><code>preview_text_size</code>: 按键气泡字体大小</li><li><code>shadow_radius</code>: 键盘字体阴影大小（数值不宜过大，可能会造成卡顿）</li><li><code>horizontal_gap</code>: 键水平间距</li><li><code>vertical_gap</code>: 键盘行距<br> ⚠ 若关闭了<code>proximity_correction</code>，过大的<code>horizontal_gap</code>与<code>vertical_gap</code>会引起空按漏按</li><li><code>vertical_correction</code>: 触摸位置校正（竖直方向）。<br> ※ 为了提升打字手感，可将按键的实际触摸位置相对其显示位置上下偏移一点点（默认值<code>-10</code>，上偏为正，下偏为负，为<code>0</code>则不偏移）。</li><li>[3.2.3]<code>keyboard_padding</code>: 竖屏模式下，屏幕左右两侧与键盘的距离（曲面屏减少误触）</li><li>[3.2.3]<code>keyboard_padding_left</code>: 竖屏屏模式下，左手键盘布局，屏幕左侧与键盘的距离</li><li>[3.2.3]<code>keyboard_padding_right</code>: 竖屏屏模式下，左手键盘布局，屏幕右侧与键盘的距离</li><li>[3.2.3]<code>keyboard_padding_bottom</code>: 竖屏模式下，屏幕下边缘与键盘的距离（避免误触发全面屏</li><li>[3.2.3]<code>keyboard_padding_land</code>: 横屏模式下，屏幕左右两侧与键盘的距离（避免横屏按键过度拉伸变形）</li><li>[3.2.3]<code>keyboard_padding_land_bottom</code>: 横屏模式下，屏幕下边缘与键盘的距离</li><li>[3.2.6]<code>keyboard_height</code>: 键盘锁定的高度。当每行按键高度、行之间间距之和与此参数存在差异时，键盘自动缩放为锁定的高度。使用此参数可以快速调整键盘高度而无需复杂。当缺少此参数时，键盘高度不做缩放计算。</li><li>[3.2.6]<code>keyboard_height_land</code>: 横屏下键盘锁定的高度，同上</li></ul><h4 id="示例-更改字体" tabindex="-1">示例：更改字体 <a class="header-anchor" href="#示例-更改字体" aria-label="Permalink to &quot;示例：更改字体&quot;">​</a></h4><p>① 在 rime 文件夹内新建 fonts 文件夹<br> ⚠ fonts 文件夹建在共享文件夹与用户文件夹皆可（若共享文件夹存在 fonts，则字体放在用户文件夹内无效）</p><p>② 将字体文件复制到 fonts 文件夹<br> 　本例用到了两个字体文件：<br> 　　📄 gunplay.ttf<br> 　　📄 方正行楷简体.ttf</p><p>③ 配置字体参数:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/candidate_font&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">方正行楷简体.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选字体</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/key_font&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">方正行楷简体.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键字体</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/text_font&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunplay.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #编码字体</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/comment_font&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunplay.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选注释字体</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/symbol_font&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunplay.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #符号字体</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/candidate_text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">28</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选字体大小</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/candidate_view_height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选区高度</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/comment_height&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选注释区高度</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/comment_text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选注释字体大小</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/key_text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">24</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键字体大小</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/round_corner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键圆角大小</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/symbol_text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #符号字体大小</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #  &quot;style/text_height&quot;: 24 #编码区高度（新版已经取消此参数）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #编码字体大小</span></span></code></pre></div><p>效果图：<br><img src="http://imgsrc.baidu.com/forum/pic/item/db4c0fdda3cc7cd933b21c603e01213fba0e91cb.jpg" alt="更换字体效果图" width="512" height="488"></p><h4 id="示例-局部尺寸微调" tabindex="-1">示例：局部尺寸微调 <a class="header-anchor" href="#示例-局部尺寸微调" aria-label="Permalink to &quot;示例：局部尺寸微调&quot;">​</a></h4><p><code>style</code>里的尺寸是全局生效的。实际上我们也可以对某些局部的尺寸做微调。</p><p>可以在键盘布局里微调的尺寸：<br> • <code>horizontal_gap</code>: 键水平间距<br> • <code>vertical_gap</code>: 键盘行距<br> • <code>round_corner</code>: 按键圆角（对整个键盘生效）</p><p>可以在按键里微调的尺寸：<br> • <code>key_text_size</code>: 按键文本（对长标签也生效，不区分按键文本的长短）<br> • <code>symbol_text_size</code>: 符号（long_click 和 hint）<br> • <code>round_corner</code>: 按键圆角（对单个按键生效）</p><p>另外，按键字符的偏移量也是可以局部微调的，详见后面 preset_keyboards。</p><p>例 1：调整预设 26 键键盘布局的水平间距和圆角</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/horizontal_gap&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #水平间距改为0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/round_corner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键圆角改为0</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #以上更改仅对布局ID为qwerty的26键键盘生效</span></span></code></pre></div><p>例 2：单独修改预设 26 键键盘布局中的空格键</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@33/key_text_size&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #空格键字体改小</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@33/round_corner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #圆角增大</span></span></code></pre></div><p>※上例若直接修改主题文件，是这样写的：<br><code>{click: space, key_text_size: 12, round_corner: 32, width: 30}</code></p><h3 id="_4-悬浮窗口" tabindex="-1">4.悬浮窗口 <a class="header-anchor" href="#_4-悬浮窗口" aria-label="Permalink to &quot;4.悬浮窗口&quot;">​</a></h3><ul><li><code>layout</code>: 悬浮窗口设置 <ul><li><code>position</code>: 悬浮窗位置 <ul><li><code>left</code>|<code>right</code>|<code>left_up</code>|<code>right_up</code> 这几种都可以让悬浮窗口动态跟随光标（需要 ≥Android5.0）</li><li><code>fixed</code>|<code>bottom_left</code>|<code>bottom_right</code>|<code>top_left</code>|<code>top_right</code> 这几种是固定在屏幕的边角上</li></ul></li><li><code>min_length</code>: 悬浮窗最小词长（候选词长大于等于<code>min_length</code>才会进入悬浮窗）</li><li><code>max_length</code>: 连续排列的多个候选项总字数（包括候选项注释）超过<code>max_length</code>时，把超出的候选项移到下一行显示（单个候选项若超长，或者<code>max_length</code>数值过大，则由<code>max_width</code>决定是否换行）</li><li><code>sticky_lines</code>: 固顶行数（不与其它候选同排，单独一行显示的候选项个数）</li><li><code>max_entries</code>: 最大词条数（允许进入悬浮窗的最大词条数）</li><li><code>all_phrases</code>: 显示所有长词。所有满足<code>min_length</code>的词条都显示在悬浮窗（一般只用于 table translator，有可能会改变候选项的显示顺序）</li><li><code>border</code>: 边框宽度（增大边框则向内加粗，也会对悬浮窗圆角产生一点影响）</li><li><code>max_width</code>: 窗口最大宽度（候选超长则自动换行）</li><li><code>min_width</code>: 最小宽度（悬浮窗的初始宽度）</li><li><code>margin_x</code>: 水平边距（左右留白大小）</li><li><code>margin_y</code>: 竖直边距（上下留白大小）</li><li><code>line_spacing</code>: 候选词的行间距（px）</li><li><code>line_spacing_multiplier</code>: 候选词的行间距倍数</li><li><code>spacing</code>: 悬浮窗位置上下偏移量（一般上移为正，下移为负，但当<code>position</code>设为 top_xxx 时，方向是相反的）</li><li><code>round_corner</code>: 窗口圆角（同时也会使<strong>候选栏</strong>的高亮候选边框产生圆角）</li><li><code>alpha</code>: 悬浮窗透明度*（0x00~0xff。0x00 为全透明）</li><li>[3.2.3]<s><code>background</code>: 悬浮窗背景*（颜色或图片二选一。比如颜色：0xFFD3FF83；图片：xxx.jpg。图片格式 jpg 与 png 皆可，相应的图片需放置在用户文件夹的 backgrounds 目录下，放在共享文件夹无效</s></li><li><code>elevation</code>: 悬浮窗阴影（≥Android5.0）</li><li><code>movable</code>: 是否可移动窗口，或仅移动一次 true|false|once</li></ul></li><li><code>window</code>: #悬浮窗口组件 <ul><li><code>- {start: &quot;&quot;, move: &#39;ㄓ &#39;, end: &quot;&quot;}</code><br> #窗口移动图标。当<code>movable</code>设为可移动时，拖动这个图标即可调整悬浮窗的位置。<code>move</code>可改为任意符号，<code>start</code> <code>end</code>为左右修饰符号，若不需要修饰可简化为<code>{move: &#39;ㄓ &#39;}</code>。</li><li><code>- {start: &quot;&quot;, composition: &quot;%s&quot;, end: &quot;&quot;, letter_spacing: 0}</code><br> #这个组件用来显示输入的编码。<code>composition</code>若去掉则不显示编码区。<code>letter_spacing</code>为字符间距，需要 ≥Android5.0。</li><li><code>- {start: &quot;\n&quot;, label: &quot;%s.&quot;, candidate: &quot;%s&quot;, comment: &quot; %s&quot;, end: &quot;&quot;, sep: &quot; &quot;}</code><br> #这个组件用来显示候选项。<code>start: &quot;\n&quot;</code>表示这个组件另起一行，<code>label</code>候选项序号，<code>candidate</code>候选项，<code>comment</code>候选项注释，<code>sep</code>候选项分隔符。（除<code>candidate</code>外，其它都是可选的。比如删掉<code>label</code>则不显示候选项序号）<br> ※ 奇技淫巧：当前版本（截止到3.2.13），都不支持在隐藏候选单的情况下（即去掉该组件）让<code>composition</code>（即上一个组件）支持换行，所以这里提供一个技巧，如果不想显示候选单，那么只在保留该组件的同时，按需求将除<code>candidate</code>以外的值改为空（<code>&quot;&quot;</code>）或去掉，只将<code>candidate</code>后面的<code>&quot;%s&quot;</code>改为<code>&quot;‏&quot;</code>，注意这里是一个不可见字符，请直接复制，它会保证<code>candidate</code>有值但不显示任何东西，这个时候<code>composition</code>超长时会自动换行。</li><li>#~~~~~~~~<br> ※ 另外还可以在悬浮窗内放置普通按键，比如地球拼音的声调键：</li><li><code>- {start: &quot;\n&quot;, click: &quot;;&quot;, label: &quot; ˉ &quot;, align: center, end: &quot; &quot;}</code><br> #<code>click: &quot;;&quot;</code> <code>label: &quot; ˉ &quot;</code>作用与键盘按键相同。<code>align</code>对齐方式，left 左对齐|right 右对齐|center 居中，默认为左对齐可省略不写（align 每行组件只需写一个，也可用于上面的编码与候选）</li><li><code>- {click: &quot;/&quot;, label: &quot; ˊ &quot;, end: &quot; &quot;}</code><br> #<code>end: &quot; &quot;</code>的作用是在按键间形成间隙</li><li><code>- {click: &quot;,&quot;, label: &quot; ˇ &quot;, end: &quot; &quot;}</code></li><li><code>- {click: &quot;\\&quot;, label: &quot; ˋ &quot;}</code></li></ul></li></ul><h4 id="示例-自定义悬浮窗" tabindex="-1">示例：自定义悬浮窗 <a class="header-anchor" href="#示例-自定义悬浮窗" aria-label="Permalink to &quot;示例：自定义悬浮窗&quot;">​</a></h4><p>配置几种在平板电脑上的悬浮窗样式：</p><ul><li>1、横排</li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/horizontal&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/position&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">left</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/min_length&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/max_length&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">36</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/max_entries&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/sticky_lines&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/max_width&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">930</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/margin_x&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/margin_y&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/border&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/round_corner&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/elevation&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/alpha&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xff</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/layout/line_spacing_multiplier&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/window&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; %s. &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">candidate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%s &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p><img src="https://user-images.githubusercontent.com/16501929/30546255-c1380606-9c51-11e7-8043-48da4cf04119.png" alt="横排效果"></p><ul><li><p>2、竖排<br> 把上面补丁的<code>sticky_lines</code>改成<code>5</code>，水平模式<code>horizontal</code>改成<code>false</code>。<br><img src="https://user-images.githubusercontent.com/16501929/30546276-cde91520-9c51-11e7-8d17-0541b140a7a4.png" alt="竖排效果"></p></li><li><p>3、横竖混排<br> 只需要把上面补丁的<code>sticky_lines</code>改成<code>1</code>即可。<br><img src="https://user-images.githubusercontent.com/16501929/30546289-d8ac3046-9c51-11e7-8344-0015197d8c89.png" alt="混排效果"></p></li></ul><p>※ 以上示例中去掉了悬浮窗的<code>composition</code>组件，因此需要开启嵌入模式才能在文本框中显示编码。另外，开启悬浮窗后，也可以把底下多余的候选栏关掉（参考附录中的示例）。</p><h3 id="_5-其它" tabindex="-1">5. 其它 <a class="header-anchor" href="#_5-其它" aria-label="Permalink to &quot;5. 其它&quot;">​</a></h3><p>备用参数，暂无功能</p><ul><li><p><code>background_dim_amount</code></p></li><li><p><code>max_height</code></p></li><li><p><code>min_height</code></p></li></ul><h2 id="二、fallback-colors" tabindex="-1">二、<code>fallback_colors</code> <a class="header-anchor" href="#二、fallback-colors" aria-label="Permalink to &quot;二、`fallback_colors`&quot;">​</a></h2><p>后备颜色：配色方案中未定义的颜色，自动从这里推导。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">candidate_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">comment_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">candidate_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">border_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">candidate_separator_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">border_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_candidate_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_candidate_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_comment_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">comment_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">text_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_candidate_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_candidate_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_symbol_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_comment_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_off_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_on_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_off_key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_on_key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_border_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">border_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">candidate_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_symbol_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">comment_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keyboard_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">border_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">candidate_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">off_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">key_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">off_key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">key_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">on_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">on_key_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">preview_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">key_back_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">preview_text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">key_text_color</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">shadow_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">border_color</span></span></code></pre></div><h2 id="三、preset-color-schemes" tabindex="-1">三、<code>preset_color_schemes</code> <a class="header-anchor" href="#三、preset-color-schemes" aria-label="Permalink to &quot;三、`preset_color_schemes`&quot;">​</a></h2><p>预置的配色方案</p><h3 id="颜色值" tabindex="-1">颜色值 <a class="header-anchor" href="#颜色值" aria-label="Permalink to &quot;颜色值&quot;">​</a></h3><p>同文支持以下几种写法：</p><ul><li><code>0xaarrggbb</code></li><li><code>&quot;#aarrggbb&quot;</code> （引号不能省略，否则会与注释冲突）</li><li><code>0xrrggbb</code> （省略了 aa，表示完全不透明）</li><li><code>&quot;#rrggbb&quot;</code> （同上）</li><li><code>0xaa</code></li><li><code>red</code>、<code>green</code>、<code>blue</code>……</li></ul><p>其中 aa 透明度，rr 红，gg 绿， bb 蓝，都是十六进制数值，取值范围 00~ff。</p><h3 id="配色方案" tabindex="-1">配色方案 <a class="header-anchor" href="#配色方案" aria-label="Permalink to &quot;配色方案&quot;">​</a></h3><p>一个主题中可以有多个配色方案。</p><ul><li><p><code>default</code>: 配色方案 ID，不可重复</p><ul><li><p><code>name</code>: 配色方案名称</p></li><li><p><code>author</code>: 作者信息</p></li><li><p>[3.2.5]<code>sound</code>：预设音效包。3.2.5 新增了按键音效包支持，当切换配色时可以自动切换音效。当配色没有指定音效包时，切换为同文偏好设置-按键效果-按键音效包指定的音效。音效包制作方式参照 <a href="https://github.com/tumuyan/trime-without-CMake/wiki/%E5%90%8C%E6%96%87%E6%8C%89%E9%94%AE%E9%9F%B3%E6%95%88" target="_blank" rel="noreferrer">同文按键音效包说明</a></p></li><li><p>[3.2.6]<code>dark_scheme</code>：配色方案如有此参数，即视为明亮模式的配色。当系统切换为暗黑模式后，再次弹出键盘时，自动切换配色方案为<code>dark_scheme</code>指定的配色。</p></li><li><p>[3.2.6]<code>light_scheme</code>：与<code>dark_scheme</code>相反，一套配色方案中这两个参数只需要出现一个，或者一个都没有。</p><p>▼ 悬浮窗口</p></li><li><p><code>border_color</code>: 悬浮窗边框</p></li><li><p><code>label_color</code>: 悬浮窗候选项序号<br> ※ 悬浮窗高亮候选项序号与<code>hilited_candidate_text_color</code>相同</p></li><li><p><code>hilited_text_color</code>: 高亮编码（一般是位于光标插入点左边的编码）</p></li><li><p><code>text_color</code>: 编码（位于光标插入点右边的编码，或者是拼音类方案中无法正常解析的空码，比如全拼时输入 hau，u 就属于这种）</p></li><li><p><code>hilited_back_color</code>: 高亮编码背景<br> ※ 非高亮的编码背景与<code>back_color</code>相同</p></li><li><p>☆<code>text_back_color</code>: 编码区背景 （3.2.3 后续版本支持背景图） ※ 仅当<code>style/layout/background</code>设置失效时才会起作用（当<code>background</code>生效时，<code>text_back_color</code>就会失效）</p><p>▼ 输入面板</p><p>☆[3.2.3]<code>root_background</code>键盘和候选区的整体背景。</p><p>▼ 候选项</p></li><li><p><code>back_color</code>: 候选区背景*</p></li><li><p>☆[3.2.3]<code>candidate_background</code>候选区整体背景</p></li><li><p><code>hilited_candidate_back_color</code>: 高亮候选背景（候选项被选中时）</p></li><li><p><code>candidate_separator_color</code>: 候选分割线</p></li><li><p><code>candidate_text_color</code>: 候选文本（包括悬浮窗候选，下同）</p></li><li><p><code>hilited_candidate_text_color</code>: 高亮候选文本</p></li><li><p><code>comment_text_color</code>: 候选项注释</p></li><li><p><code>hilited_comment_text_color</code>: 高亮候选项注释<br> ▼ 键盘</p></li><li><p>☆<code>key_back_color</code>: 按键背景</p></li><li><p>☆<code>hilited_key_back_color</code>: 高亮按键背景（按下按键时）</p></li><li><p><code>key_text_color</code>: 按键文本（click）</p></li><li><p><code>hilited_key_text_color</code>: 高亮按键文本</p></li><li><p><code>key_symbol_color</code>: 按键符号（long_click 和 hint）</p></li><li><p><code>hilited_key_symbol_color</code>: 高亮按键符号</p></li><li><p><code>preview_back_color</code>: 按键气泡背景</p></li><li><p><code>preview_text_color</code>: 按键气泡文本</p></li><li><p><code>shadow_color</code>: 按键文字阴影（阴影半径在<code>shadow_radius</code>中设定）</p></li><li><p>☆<code>keyboard_back_color</code>: 键盘背景</p></li><li><p>☆[3.2.3]<code>liquid_keyboard_background</code>:liquidKeyboard 的键盘背景</p></li><li><p>☆[3.2.3]<code>long_text_back_color</code>: 包含长文本的按键背景（比如剪贴板）</p></li><li><p><code>key_border_color</code>: 按键边框*(暂无)<br> ▼ 功能键（functional: true）</p></li><li><p>☆<code>off_key_back_color</code>: 功能键背景</p></li><li><p>☆<code>hilited_off_key_back_color</code>: 功能键高亮背景（按下时）</p></li><li><p><code>off_key_text_color</code>: 功能键文本</p></li><li><p><code>hilited_off_key_text_color</code>: 功能键高亮文本<br> ※ 在没有特别指定的时候，功能键的 long_click 和 hint 颜色与普通按键一样</p></li><li><p>☆<code>on_key_back_color</code>: shift 键锁定时背景</p></li><li><p>☆<code>hilited_on_key_back_color</code>: shift 键锁定时的高亮背景（按下时）</p></li><li><p><code>on_key_text_color</code>: shift 键锁定时文本</p></li><li><p><code>hilited_on_key_text_color</code>: shift 键锁定时的高亮文本<br> ※ shift 键锁定时的这四种颜色不会因为<code>functional: false</code>而失效</p></li></ul><p>※ 以上标记为 ☆ 的都可以使用图片作背景（与悬浮窗背景图做法相同）。</p><p>[3.2.3]当背景图为.9 图，并且命名为 xxx.9.png 时，图片会按照.9 图来加载。.9 图体积小，抗拉伸变形，节约内存资源。</p></li></ul><h4 id="示例-制作一个配色方案" tabindex="-1">示例：制作一个配色方案 <a class="header-anchor" href="#示例-制作一个配色方案" aria-label="Permalink to &quot;示例：制作一个配色方案&quot;">​</a></h4><p>有了<code>fallback_colors</code>，最少只需要<code>back_color</code>和<code>text_color</code>就可以做出一个配色方案。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_color_schemes/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#配色方案ID</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx极简</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #配色名称</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xEEF1E7</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #背景</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #文字</span></span></code></pre></div><p>这是一个用色最少的配色方案。效果是这样：<br><img src="https://user-images.githubusercontent.com/16501929/30100484-a77d63fc-92ae-11e7-87b9-42f546ba7f19.png" alt="简单配色" width="512" height="438"><br> ※ 部署完成后，需要从配色菜单中选取刚才添加的配色方案「xxx 极简」，才能看到效果。</p><p>试试再加两个颜色：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_color_schemes/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#配色方案ID</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx极简</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #配色名称</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xEEF1E7</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #背景</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #文字</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xDEEDB1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键背景</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hilited_candidate_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xD4ED89</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选高亮背景</span></span></code></pre></div><p>好像变得更难看了 😜：<br><img src="https://user-images.githubusercontent.com/16501929/30100628-17401176-92af-11e7-8a9b-1634647cd38f.png" alt="改进效果" width="512" height="436"></p><p>再加个背景图看看：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_color_schemes/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#配色方案ID</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx极简</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #配色名称</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xEEF1E7</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #背景</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000000</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #文字</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x60DEEDB1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键背景加了透明度，不然会挡住图片</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hilited_candidate_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x80D4ED89</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #候选高亮背景，这个也加了透明度，使颜色减淡一些</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keyboard_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx.jpg</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #图片需放在rime/backgrounds文件夹内</span></span></code></pre></div><p>最后变成这样：<br><img src="https://user-images.githubusercontent.com/16501929/30100688-39976756-92af-11e7-946d-f7e041137a87.png" alt="改进效果" width="512" height="439"></p><p>……<br> 在每个按键上加图片背景会怎样？您若感兴趣可以试试。</p><p>⚠ 图片不需要太大，上例用到的背景图只有 32KB。</p><h4 id="示例-局部颜色微调" tabindex="-1">示例：局部颜色微调 <a class="header-anchor" href="#示例-局部颜色微调" aria-label="Permalink to &quot;示例：局部颜色微调&quot;">​</a></h4><p><code>preset_color_schemes</code>里的颜色是全局生效的。同文也提供了一些方法可以对某些局部的颜色做微调。</p><p>可以在键盘布局里微调的颜色：<br> • ☆<code>keyboard_back_color</code>: 键盘背景</p><p>可以在按键里微调的颜色：<br> • ☆<code>key_back_color</code>: 按键背景（对功能键也有效，下同）<br> • ☆<code>hilited_key_back_color</code>: 高亮按键背景（按下按键时）<br> • <code>key_text_color</code>: 按键文本（click）<br> • <code>hilited_key_text_color</code>: 高亮按键文本<br> • <code>key_symbol_color</code>: 按键符号（long_click 和 hint）<br> • <code>hilited_key_symbol_color</code>: 高亮按键符号<br> ※ 除了颜色值和图片，在按键里还可以使用分组颜色标签，详见下面例 2、例 3。<br> ※ 若在键盘里调整功能键颜色，则不区分是否锁定。</p><p>例 1：修改预设 26 键键盘回车键的颜色</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@36/key_back_color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xFFAE00</span></span></code></pre></div><p>※ 上例中，我们给预设 26 键键盘的回车键分配了一个颜色值。这样的话，不管您切换到哪个配色方案，回车键的颜色都固定是<code>0xFFAE00</code>。<br> 若您想更灵活地更改一个按键的颜色，就需要用到分组颜色标签。</p><p>例 2：使用分组标签定义按键颜色</p><p>先来看一个简单的例子：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@15/key_back_color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">off_key_back_color</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@15/hilited_key_back_color&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_off_key_back_color</span></span></code></pre></div><p><code>off_key_back_color</code>和<code>hilited_off_key_back_color</code>是同文默认的功能键颜色标签。在这个补丁中，我们给<code>qwerty</code>键盘的<code>g</code>键添加了功能键的颜色标签。这样不管切换到什么配色方案，<code>g</code>键的颜色总会跟功能键保持一致。</p><p>除了使用默认的标签，我们还可以定义自己的颜色标签。</p><p>例 3： 自定义分组标签</p><p>现在我们要改变数字键盘的数字键颜色，以便快速地与普通按键作区分。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #步骤一，在数字键盘的数字键中添加分组颜色标签</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">預設數字</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    author</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;osfans &lt;waxaca@163.com&gt;&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">44</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;+&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      #k_n_b是自定义的标签名，你可以理解成是key_num_back_color的缩写...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;6&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;7&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;9&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;:&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;±&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">hilited_key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Keyboard_default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">long_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Keyboard_symbols</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">space</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BackSpace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #步骤二，在配色方案中定义k_n_b和h_k_n_b的颜色</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_color_schemes/xxx&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#配色方案，直接利用了上一节示例做的配色</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx极简</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0xEEF1E7</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    text_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x000000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    key_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x60DEEDB1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    hilited_candidate_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x80D4ED89</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keyboard_back_color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxx.jpg</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x80D4ED89</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #数字键背景色</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x60DEEDB1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #高亮数字键背景色</span></span></code></pre></div><p>好了，看看效果：<br><img src="https://user-images.githubusercontent.com/16501929/30117873-266633a0-92e7-11e7-9f3a-4de6d0e8bd8f.png" alt="数字键颜色分组" width="360" height="226"></p><p>※自定义的分组标签可以在当前主题的所有配色方案中使用。只需要在相应的配色方案中给<code>k_n_b</code>和<code>h_k_n_b</code>设定颜色值即可。这样每个配色方案中的数字键都可以独立设置颜色，自由度更高。（若某个配色方案中的<code>k_n_b</code>省略不写，则数字键的背景色会默认使用普通按键背景色，不用担心会出错。）</p><p>分组标签的使用还可以更灵活。</p><p>例 4： 分组标签与<code>fallback_colors</code>配合</p><p>细心的你可能会发现，例 3 中的数字键颜色，只是把普通按键的背景与高亮背景翻转过来而已。像这样很有规律的对应关系，使用<code>fallback_colors</code>会更简单。</p><p>#将这两句添加到例 3 的补丁中（在<code>fallback_colors</code>中建立自定义分组与普通按键的对应关系）</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fallback_colors/k_n_b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">hilited_key_back_color</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #使数字键的背景色=普通按键的高亮色</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;fallback_colors/h_k_n_b&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">key_back_color</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #使数字键的高亮色=普通按键的背景色</span></span></code></pre></div><p>#再删掉配色方案中的这两句（配色方案中的<code>k_n_b</code>和<code>h_k_n_b</code>可有可无，若存在则优先使用）</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x80D4ED89</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #数字键背景色</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">h_k_n_b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x60DEEDB1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #高亮数字键背景色</span></span></code></pre></div><p>这样就进一步简化了配色方案。</p><p>咦，怎么感觉绕来绕去的，为什么不直接在键盘上写<code>{click: &#39;1&#39;, key_back_color: hilited_key_back_color, hilited_key_back_color: key_back_color}</code>呢？其实这样写也可以，例 2 就是这样做的。<br> 例 4 是综合了例 2、例 3 的优点。在<code>fallback_colors</code>中建立对应关系，可以简化配色方案，另外还给配色方案单独控制数字键颜色预留了一个通道，可以实现更多的可能。</p><p>（若您的主题中只有一个配色方案，那基本上不需要这些复杂的方法）</p><h2 id="四、android-keys" tabindex="-1">四、<code>android_keys</code> <a class="header-anchor" href="#四、android-keys" aria-label="Permalink to &quot;四、`android_keys`&quot;">​</a></h2><p>这一部分列出了所有已知的按键以及各种可用的条件、功能。</p><ul><li><p><code>when</code>: 按键功能的各种触发条件</p><ul><li><code>ascii</code>: 西文标签（处于英文状态时）</li><li><code>paging</code>: 翻页标签（翻页时）</li><li><code>has_menu</code>: 菜单标签（出现候选项时——非空码时）</li><li><code>composing</code>: 输入状态标签（处于输入过程中）</li><li>#<code>always</code>: 始终</li><li>#<code>hover</code>: 滑过</li><li><code>click</code>: 单击</li><li><code>long_click</code>: 长按</li><li><code>combo</code>: 并击</li><li>#<code>double_click</code>: 双击</li><li><code>swipe_left</code>: 左滑</li><li><code>swipe_right</code>: 右滑</li><li><code>swipe_up</code>: 上滑</li><li><code>swipe_down</code>: 下滑<br> ※️ 标注#的暂未实现。</li></ul></li><li><p><code>property</code>: 各种属性</p><ul><li><code>width</code>: 宽度</li><li><code>height</code>: 高度</li><li>#<code>gap</code>: 间隔</li><li><code>preview</code>: 按键气泡提示</li><li><code>hint</code>: 按键助记（用于显示双拼的韵母等，通常显示在按键字符下方）</li><li><code>label</code>: 按键标签 特别的：当按键为符号键，且输入模式为英文或英文标点时，此设置无效</li><li>[3.2.6]<code>label_symbol</code>: 按键的符号标签（通常显示在按键字符上方，当缺少此参数时，显示 long_click 指定的预设按键的的 label）</li><li><code>states</code>: 状态标签（用于切换开关的状态）</li><li><code>repeatable</code>: 长按重复</li><li><code>functional</code>: 功能键</li><li><code>shift_lock</code>: Shift、Ctrl、Alt、Meta 等修饰键的锁定方式（click：单击锁定，可用于「选择」键；long：长按锁定；ascii_long：仅英文状态长按锁定）</li></ul></li><li><p><code>action</code>: 执行的动作</p><ul><li><code>command</code>: 执行命令。目前内建支持的值包含：<code>liquid_keyboard paste_by_char broadcast clipboard date commit run share_text</code>,其他值会作为 Intent 处理</li><li><code>option</code>: 命令参数</li><li><code>select</code>: 选择（键盘布局）</li><li><code>toggle</code>: 切换状态</li><li><code>send</code>: 发送按键</li><li><code>text</code>: 组合键 （用于输出各种组合键）</li><li><code>commit</code>: 直接上屏 （用于输出各种网址邮箱等）</li></ul><p>※<code>when</code> <code>name</code>的用法可参考<a href="#按键功能组合示例">按键功能组合示例</a>。<br> ※其它参数的用法可参考默认的<code>trime.yaml</code>。</p></li></ul><p><code>android_keys</code>目前的主要作用是供定义<code>preset_keys</code>和<code>preset_keyboards</code>时<strong>查阅</strong>，目前已经基本不生效。用户自定义的主题可直接导入默认主题的对应节点：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#xxx.trime.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">android_keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  __include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">trime:/android_keys</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #导入trime.yaml中的android_keys</span></span></code></pre></div><h2 id="五、preset-keys" tabindex="-1">五、<code>preset_keys</code> <a class="header-anchor" href="#五、preset-keys" aria-label="Permalink to &quot;五、`preset_keys`&quot;">​</a></h2><p>按键预定义。在这里对功能键进行添加、删除、重定义等操作。</p><p>※️ 默认<code>trime.yaml</code>的<code>preset_keys</code>预置了一些功能键（比如语音输入、撤销&amp;重做、切换键盘、运行程序、搜索字符串等等），在定制键盘布局时需要到这里查阅（<code>trime.yaml</code>内有详细的注释，这里不再赘述）。</p><h4 id="示例-调整按键属性" tabindex="-1">示例：调整按键属性 <a class="header-anchor" href="#示例-调整按键属性" aria-label="Permalink to &quot;示例：调整按键属性&quot;">​</a></h4><p>例 1：更改回车键标签</p><p>在<code>trime.yaml</code>中，回车键默认是这样定义的：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Enter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p>展开来是这样：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Enter</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span></span></code></pre></div><p>由<code>label: Enter</code>可知：回车键默认显示的标签是<code>Enter</code>。</p><p>如果要把回车键显示成<code>回车</code>，可以这样：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keys/Return&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;回车&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span></span></code></pre></div><p>例 2：更改空格键的按键气泡提示</p><p>如果输入方案的名字很长，空格键的按键气泡也会非常长。可以通过定义空格键的<code>preview</code>属性来解决这个问题。</p><p>对于一般的按键：</p><ul><li>如果没有设置<code>preview</code>，那么同文会以按键的标签<code>label</code>来做按键气泡提示。</li><li>如果也没有设置<code>label</code>，那么会以按键所执行的命令及其相关的状态来做气泡提示。（对于空格键来说，会使用输入方案的名字）。</li></ul><p>默认的空格键是这样：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">space</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repeatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">functional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">space</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p>我们给它添加一个<code>preview</code>属性</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keys/space&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    repeatable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    functional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    preview</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot; &quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #把空格键的气泡提示设为空格</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">space</span></span></code></pre></div><p>例 3：一键输出「日期+时间」</p><p>以预设 26 键键盘为例：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 参考trime.yaml内置的date键，新建一个按键date_time</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keys/date_time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">date</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">time</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    option</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;yyyy-MM-dd  HH:mm:ss&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #通过`option`参数控制输出的日期和时间格式</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">function</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 用data_time替换原预设26键键盘中的time</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@26/long_click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">date_time</span></span></code></pre></div><p>※ 常用的时间选项：<code>y</code>年，<code>M</code>月，<code>d</code>日，<code>h</code>时（12 小时制），<code>H</code>时（24 小时制），<code>m</code>分，<code>s</code>秒，<code>S</code>毫秒，<code>E</code>星期，<code>D</code>一年中的第几天，<code>w</code>一年中第几个星期，<code>a</code>上午/下午，<code>z</code>时区</p><p>例 4：关闭功能键属性</p><p>在<code>preset_keys</code>里面定义的按键，默认会打开<code>functional</code>属性。这些按键在键盘上会显示出功能键特有的颜色（比如回车键和退格键）。<br> 假设要让回车键也变为普通按键的颜色，可以关闭它的<code>functional</code>属性（关闭后只会改变功能键的颜色，其它功能不会有变化）</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keys/Return&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    functional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #不使用功能键颜色</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Enter</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span></span></code></pre></div><p>例 5: 自定义组合键</p><p>使用<code>text</code>可以实现一些比较复杂的操作<br> 比如：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">overwrite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;{Control+a}{Control+v}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">覆盖</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span></code></pre></div><p>这个组合键把全选和粘贴合并起来了。按下它就可以用剪贴板中的内容覆盖当前文档。</p><p><code>text</code>的格式：<code>text: &quot;{send|key}{send|key}……&quot;</code> （功能键必须用大括号<code>{}</code>括起来，其它的文本或符号可以省略括号。※组合键需要加引号，以免出现语法错误。）</p><p><code>text</code>的其它用例：</p><ul><li><code>text: &quot;{Escape}{/fh}&quot;</code>：清空前面的输入码并输入<code>/fh</code> （配合 symbols.yaml 可以输入符号）</li><li><code>text: &quot;「」{Left}{Keyboard_default}&quot;</code>：输出成对符号<code>「」</code>并把光标移到符号中间再返回主键盘</li><li><code>text: &quot;{Control+Left}&quot;</code>：逐词移动。（单个组合键也可以直接用<code>send: Control+Left</code>，<code>text</code>可以看作是组合键的组合）</li><li>...</li></ul><p>可以自由发挥想象力，看看你造出来的组合键同文能不能支持。</p><p>例 6: [3.2.6]简写</p><p>特别的，keyboard 中允许一定程度的简写，从而减少 presetkey 的数量。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span> - {click: f, swipe_up: {commit: &quot;%&quot;}}</span></span></code></pre></div><h2 id="六、preset-keyboards" tabindex="-1">六、<code>preset_keyboards</code> <a class="header-anchor" href="#六、preset-keyboards" aria-label="Permalink to &quot;六、`preset_keyboards`&quot;">​</a></h2><p>预置的键盘布局。</p><h3 id="键盘布局" tabindex="-1">键盘布局 <a class="header-anchor" href="#键盘布局" aria-label="Permalink to &quot;键盘布局&quot;">​</a></h3><p>一个主题里可以有多个键盘布局。</p><p><code>default</code> 键盘布局 ID，不可重复</p><ul><li><code>name</code>: 布局名称</li><li><code>author</code>: 作者信息</li><li><code>ascii_mode</code>: 键盘的默认状态（<code>0</code>：中文；<code>1</code>：英文）</li><li><code>ascii_keyboard</code>: 非标准键盘（比如注音、仓颉、双键等），在切换到英文模式时，自动跳转到这里设定的英文键盘（试验功能，有待完善）</li><li><code>reset_ascii_mode</code>: 切换键盘、重新弹出键盘时，是否重置到当前 keyboard 指定的 ascii_mode 描述的状态（默认 false）。与<code>style/reset_ascii_mode</code>(指定弹出键盘时是否重置 ASCII 状态）配合使用。</li><li><code>label_transform</code>: 中文模式下按键字母标签自动大写（<code>uppercase</code>：自动大写，仅对单个字母生效，长标签请直接更改 label；<code>none</code>：无，可省略不写）</li><li><code>lock</code>: 在不同程序中切换时锁住当前键盘，不返回默认的主键盘。用于单手键盘等。（<code>true</code>：锁住；<code>false</code>：不锁，可省略不写）</li><li><code>columns</code>: 键盘最大列数，超过则自动换行，默认 30 列。</li><li><code>width</code>: 按键默认宽度（也可以在按键里面单独定义某个按键的宽度）</li><li><code>height</code>: 每行的高度（要想改变单独一行的高度，可以直接在那一行行首的按键里设<code>height</code>）</li><li>[3.2.6]<code>auto_height_index</code>: 当使用<code>style/keyboard_height</code>参数锁定键盘高度时，由于像素只能取整数，如果缩放产生了余数，哪一行吸收缩放后的余数。第一行即 0，第二行为 1，以此类推；特别的，当值为负数时，为倒序序号（-1 即倒数第一个）;当值大于按键行数时，为最后一行。</li><li>[3.2.6]<code>keyboard_height</code>: 键盘锁定的高度。当 style 中锁定键盘高度时，如 preset_keyboard 再次指定键盘高度，则当前键盘以此为准</li><li>[3.2.6]<code>keyboard_height_land</code>: 横屏下键盘锁定的高度，同上</li><li><code>key_hint_offset_x</code>: 助记符号 x 方向偏移量（向右为正，下同）</li><li><code>key_hint_offset_y</code>: 助记符号 y 方向偏移量（向下为正，下同）</li><li><code>key_symbol_offset_x</code>: 长按符号 x 方向偏移量</li><li><code>key_symbol_offset_y</code>: 长按符号 y 方向偏移量</li><li><code>key_text_offset_x</code>: 按键文本 x 方向偏移量</li><li><code>key_text_offset_y</code>: 按键文本 y 方向偏移量</li><li><code>key_press_offset_x</code>：按键按下时所有文本 x 方向偏移量</li><li><code>key_press_offset_y</code>：按键按下时所有文本 y 方向偏移量<br> ※以上这几个 offset 也可以直接写在按键中，仅对该按键生效。</li><li><code>keys</code>: 按键排列顺序<br> 键盘中每对{}括号代表一个按键，按从左到右、从上到下的顺序排列。每行的宽度排满<code>100</code>或虽然不足<code>100</code>但无法再容纳一个按键又或者每行按键数量达到<code>columns</code>的设定值时，转到下一行继续排列。</li></ul><h3 id="布局调用" tabindex="-1">布局调用 <a class="header-anchor" href="#布局调用" aria-label="Permalink to &quot;布局调用&quot;">​</a></h3><p><code>trime.yaml</code>已经内置了很多种键盘布局，一般常用的输入方案都可以自动匹配到合适的预置键盘。<br> ※️<code>style/keyboards</code>中的<code>.default</code>，就是用来自动匹配键盘布局的。</p><p>自动匹配的过程：</p><ul><li>如果输入方案的<code>schema_id</code>可以找到对应的键盘布局<code>ID</code>，则直接使用这个布局<br> 比如仓颉五代的<code>schema_id</code>是<code>cangjie5</code>，在<code>trime.yaml</code>中刚好有<code>ID</code>为<code>cangjie5</code>的键盘布局，那就直接使用它。</li><li>如果匹配不了<code>ID</code>，那根据输入方案的<code>speller/alphabet</code>所用的字符，匹配最合适的布局方案<br> 比如朙月拼音的<code>speller/alphabet</code>是<code>zyxwvutsrqponmlkjihgfedcba</code>，恰好使用了 26 个英文字母。那就自动套用<code>预设26键</code>键盘。</li><li>如果<code>ID</code>和<code>speller/alphabet</code>都匹配不到，就用默认的<code>预设26键</code>键盘。</li></ul><p>如果自动匹配的布局不理想，还可以手动设置。如下面的示例。</p><h4 id="示例-指定朙月拼音使用-36-键键盘布局" tabindex="-1">示例：指定朙月拼音使用 36 键键盘布局 <a class="header-anchor" href="#示例-指定朙月拼音使用-36-键键盘布局" aria-label="Permalink to &quot;示例：指定朙月拼音使用 36 键键盘布局&quot;">​</a></h4><p>（36 键键盘比 26 键的多了一排数字键，可以快捷输入数字）</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/luna_pinyin/import_preset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">qwerty0</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #预设36键布局的ID是qwerty0</span></span></code></pre></div><p>如是即可。</p><p>再看看，重新部署后，补丁融入<code>trime.yaml</code>之中，就被展开成这种格式：</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">luna_pinyin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  import_preset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">qwerty0</span></span></code></pre></div><p>可以理解成：新建了一个<code>ID</code>是<code>luna_pinyin</code>的布局，这个布局导入了<code>qwerty0</code>的全部设置。</p><p>⚠ 如果这里指定的键盘出错了，就会自动调用<code>default</code>键盘。</p><h3 id="布局调整" tabindex="-1">布局调整 <a class="header-anchor" href="#布局调整" aria-label="Permalink to &quot;布局调整&quot;">​</a></h3><p>键盘布局就像积木一样，是由各种功能组合&amp;排列而成。</p><p>先来看看按键是怎么由一个个功能组合而成的：</p><h4 id="按键功能组合示例" tabindex="-1">按键功能组合示例 <a class="header-anchor" href="#按键功能组合示例" aria-label="Permalink to &quot;按键功能组合示例&quot;">​</a></h4><table><thead><tr><th style="text-align:center;">No.</th><th style="text-align:center;">按键</th><th>功能</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td style="text-align:center;"><code>{click: g}</code></td><td>单击时输出<code>g</code>，没有其它功能。</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;"><code>{width: 5}</code></td><td>这是一个宽度为 5 的空白间隙。</td></tr><tr><td style="text-align:center;">3</td><td style="text-align:center;"><code>{click: space, width: 28}</code></td><td>单击输出空格，按键加宽（到<code>28</code>）。</td></tr><tr><td style="text-align:center;">4</td><td style="text-align:center;"><code>{click: h, long_click: &quot;&#39;&quot;}</code></td><td>单击输出<code>h</code>，长按输出<code>‘</code>撇号。</td></tr><tr><td style="text-align:center;">5</td><td style="text-align:center;"><code>{click: e, label: &#39;水&#39;, long_click: &#39;+&#39;}</code></td><td>单击输出<code>e</code>，在中文状态时按键标签是<code>水</code>，英文时标签恢复成<code>e</code>，长按输出<code>+</code>。用于仓颉键盘。</td></tr><tr><td style="text-align:center;">6</td><td style="text-align:center;"><code>{click: v, long_click: ~, swipe_left: Date, swipe_right: Time}</code></td><td>单击输出<code>v</code>，长按输出<code>~</code>，左滑输出日期，右滑输出时间 。</td></tr><tr><td style="text-align:center;">7</td><td style="text-align:center;"><code>{click: Shift_L, composing: &quot;&#39;&quot;, width: 15}</code></td><td>平时单击切换大小写，在打字过程中变为分词键<code>&#39;</code>。按键加宽到<code>15</code>。</td></tr><tr><td style="text-align:center;">8</td><td style="text-align:center;"><code>{click: &#39;.&#39;, long_click: &#39;&gt;&#39;, has_menu: &#39;次选&#39;, send_bindings: false}</code></td><td>单击输出<code>.</code>，长按输出<code>&gt;</code>，打字出现候选时按键标签变为「次选」。⚠ <code>send_bindings</code>用来控制<code>composing</code>、<code>has_menu</code>、<code>paging</code>时是否发送按键给后台（<code>true</code>：发送；<code>false</code>：不发送，仅改变按键标签，按键的实际功能仍是<code>click</code>）。<code>send_bindings</code>默认为<code>true</code>，可以省略不写。</td></tr><tr><td style="text-align:center;">9</td><td style="text-align:center;"><code>{click: &#39;.&#39;, long_click: &#39;&gt;&#39;, has_menu: Page_Down}</code></td><td>平时单击输出句点<code>.</code>，长按输出<code>&gt;</code>，打字出现候选项时，变为<code>向下翻页键</code>。</td></tr><tr><td style="text-align:center;">10</td><td style="text-align:center;"><code>{click: &#39;,&#39;, long_click: &#39;&lt;&#39;, paging: Page_Up}</code></td><td>平时输出<code>,</code>，长按输出<code>&lt;</code>，翻页时变为<code>向上翻页键</code>。</td></tr><tr><td style="text-align:center;">11</td><td style="text-align:center;"><code>{click: &quot;ㅎ&quot; , ascii: g}</code></td><td>单击时输出符号“ㅎ”，在英文状态下输出<code>g</code></td></tr><tr><td style="text-align:center;">12</td><td style="text-align:center;"><code>{click: &quot;h&quot; , hint: &quot;ang&quot;}</code></td><td>单击输出<code>h</code>，在按键下方显示韵母<code>ang</code>，用于双拼等助记键盘</td></tr><tr><td style="text-align:center;">13</td><td style="text-align:center;"><code>{click: &quot;(){Left}&quot;}</code></td><td>单击时输出一对括号<code>（）</code>，且光标自动移到括号中间。※与<code>preset_keys</code>里面的<code>text: &quot;(){Left}&quot;</code>等效，但<code>text</code>不能直接用在键盘布局中，要改成<code>click</code>、<code>long_click</code>等</td></tr><tr><td style="text-align:center;">14</td><td style="text-align:center;"><code>{click: &quot;q&quot; , height: 60}</code></td><td>单击时输出<code>q</code>，当该键位于行首时，整排按键加高到 60</td></tr><tr><td style="text-align:center;">15</td><td style="text-align:center;"><code>{click: &quot;&quot;}</code></td><td>这是一个空按键，按下去不会触发任何动作。空键的其它写法：<code>click: &quot;VoidSymbol&quot;</code>，<code>composing: &quot;VoidSymbol&quot;</code></td></tr><tr><td style="text-align:center;">16</td><td style="text-align:center;"><code>{click: Return, combo: g}</code></td><td>单击时是回车键，与其它按键并击时输出<code>g</code>。※<code>combo</code>通常用于并击方案，可以复用一些功能键（比如<code>space</code>、<code>Keyboard_number</code>），节约空间。⚠ 因<code>combo</code>与<code>repeatable</code>属性有冲突，所以类似退格键这样的按键必须关掉<code>repeatable</code>才能使用<code>combo</code></td></tr></tbody></table><p>我们在<code>android_keys</code>和<code>preset_keys</code>中提及的触发条件和按键，都可以按这种格式{when: name, when: name, when: name, ……}组合起来，还可以加上一部分的<code>property</code>（比如<code>width</code>和<code>label</code>）。基本上就是这样来做组合了。</p><p>※️ 如果指定的<code>name</code>在<code>android_keys</code>和<code>preset_keys</code>中都找不到，那就以文本形式直接输出（比如<code>{click: 你好}</code>，单击该键时，就直接输出「你好」）。在制作特殊符号键盘时，可能需要这种效果。</p><p>按键造好了，再按一定的顺序排列起来就成了布局。</p><h4 id="示例-给键盘添加删词功能" tabindex="-1">示例：给键盘添加删词功能 <a class="header-anchor" href="#示例-给键盘添加删词功能" aria-label="Permalink to &quot;示例：给键盘添加删词功能&quot;">​</a></h4><p>对于使用<code>script_translator</code>的拼音类输入方案，如果在打错词后，马上按退格键删除已经上屏的错词，可以使错词不被记录到用户词典中。但是如果隔的时间太长，或者使用的是<code>table_translator</code>形码方案，那就没办法这样删词了。这时候就需要定制键盘来辅助我们进行删词。</p><p>以明月拼音为例，键盘示意图：<br><img src="http://imgsrc.baidu.com/forum/pic/item/24a0daf2b2119313910f6c0d62380cd790238d26.jpg" alt="添加删词功能" width="620" height="585"></p><p>※ 由于用到了<code>has_menu</code>条件，键盘右上角的左右方向键和删词键只在正常打字的过程中出现。处于英文状态或不打字时仍然是数字键 8、9、0。</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 1、让朙月拼音使用36键键盘布局</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/luna_pinyin/import_preset&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">qwerty0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 2、给36键键盘添加方向键和删词键</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty0/keys/@7/has_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Left</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty0/keys/@8/has_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Right</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty0/keys/@9/has_menu&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">DeleteCandidate</span></span></code></pre></div><p>⚠ 与 PC 版的 Rime 一样，只能从用户词典中删除词组，若要删除固态词典中的词组，请直接修改<code>dict.yaml</code>文档。</p><h4 id="示例-新建一个副键盘" tabindex="-1">示例：新建一个副键盘 <a class="header-anchor" href="#示例-新建一个副键盘" aria-label="Permalink to &quot;示例：新建一个副键盘&quot;">​</a></h4><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># trime.custom.yaml</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">patch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 1、新建一个键盘布局xkey</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/xkey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#布局ID</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    author</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;xq&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #作者</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;数字+操作键&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #方便自己辨识的名字</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ascii_mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #默认进入英文状态</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">44</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #每行高度</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">11</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键默认宽度（取所有按键中用得较多的宽度值，接下来就可以少写一些width了）</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keys</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#按键排列</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 第一行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;#&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">long_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">cut</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;%&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">long_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">long_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">paste</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;+&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 第二行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Page_Up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Up</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Page_Down</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 第三行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Left</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Tab</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Right</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;×&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 第四行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Home</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Down</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">End</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;÷&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;,&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">BackSpace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 第五行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Keyboard_default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">long_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;±&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">14.9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#如果上下的按键没有严格对齐，可以微调宽度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;=&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">space</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - { </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">18</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 2、要在主键盘中调用它，就得新建一个功能键，来开启这个ID为xkey的键盘</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keys/Keyboard_xkey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#按键ID</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    label</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #按键标签</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    send</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Eisu_toggle</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #执行切换键盘命令</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    select</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xkey</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #选择xkey键盘</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 3、把这个切换键盘的功能键放到主键盘中（以预设26键键盘为例）</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;preset_keyboards/qwerty/keys/@31/long_click&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Keyboard_xkey</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #通过长按符号键来开启这个键盘</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 4、最后在style/keyboards中声明一下我们要用到xkey这个键盘</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;style/keyboards&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">number</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">symbols</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xkey</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #style/keyboards不能只写xkey一个，其它用到的键盘要照原样抄过来，不然会出错</span></span></code></pre></div><p>副键盘就这样做出来了。效果图：<br><img src="http://imgsrc.baidu.com/forum/pic/item/eb61f058ccbf6c8156cb2f46bb3eb13531fa4087.jpg" alt="添加附属键盘" width="620" height="387"></p><p>⚠ 如果是新建主键盘，则可以省略步骤 2、3、4，因为同文可以根据键盘 ID 自动调用键盘。</p><h2 id="常见问题-修改不生效" tabindex="-1">常见问题：修改不生效？ <a class="header-anchor" href="#常见问题-修改不生效" aria-label="Permalink to &quot;常见问题：修改不生效？&quot;">​</a></h2><p>比较常见的原因是配置文件出现语法错误了，需要检查空格缩进、引号配对、是否错用 tab 等等。哪怕是一个空格出错了，也有可能会使整个配置文件失效，初学者需要格外小心。</p><p>仅供参考，欢迎指正。</p><hr><h1 id="附录-schema-yaml中的trime" tabindex="-1">附录： <code>schema.yaml</code>中的<code>trime</code> <a class="header-anchor" href="#附录-schema-yaml中的trime" aria-label="Permalink to &quot;附录： `schema.yaml`中的`trime`&quot;">​</a></h1><p>还可以针对不同输入方案设置主题参数。</p><h2 id="_1、style" tabindex="-1">1、<code>style</code> <a class="header-anchor" href="#_1、style" aria-label="Permalink to &quot;1、`style`&quot;">​</a></h2><p>在<code>schema.yaml</code>里面设置的<code>style</code>参数会优先生效。</p><p>示例： 为英文输入方案设置专用的英文字体</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#easy_en.schema.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  candidate_font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunplay.ttf</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #相应的字体文件需放在rime/fonts</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  comment_font</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunplay.ttf</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #也可以直接设置latin_font，但latin_font暂时对悬浮窗不起作用</span></span></code></pre></div><p>当切换到 easy_en 方案时，候选栏的字体自动变为 gunplay。（在使用其它输入方案时，仍然使用<code>trime.yaml</code>里面设定的字体）</p><h2 id="_2、switches" tabindex="-1">2、<code>switches</code> <a class="header-anchor" href="#_2、switches" aria-label="Permalink to &quot;2、`switches`&quot;">​</a></h2><p>在 schema 里面可以给这些开关设置初始状态：</p><ul><li><code>_hide_candidate</code> 隐藏候选栏</li><li><code>_hide_comment</code> 隐藏候选项注释</li><li><code>_hide_key_hint</code> 隐藏按键下方的助记符号</li><li>[3.2.6]<code>_hide_key_symbol</code> 隐藏按键上方的符号</li></ul><p>※ 这几个开关分别对应预设主题中<code>preset_keys</code>里的功能键：<code>Candidate_switch</code>、<code>Comment_switch</code>、<code>Hint_switch</code>。</p><p>示例： 盲打方案自动关闭候选栏</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#xxx.schema.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">switches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_hide_candidate</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    reset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #默认开启这个开关，隐藏候选栏</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 由于没有设置states，这个开关是隐藏的。只在切换到该方案时将_hide_candidate设为1。</span></span></code></pre></div><p>当切换到这个方案时，候选栏自动关闭。<br> ※在需要时，也可以通过快捷键或键盘按键随时打开候选栏。</p><p>也可以在状态栏上添加按键：</p><p>示例： 在状态栏放置按键（试验功能）</p><p><code>option</code>格式：</p><ul><li><code>_key_</code>+<code>按键</code> （这里的按键可以是功能键、符号、字母、任意文本）</li><li><code>_keyboard_</code>+<code>键盘布局ID</code> （一些比较特殊的 id：<code>.default</code>返回当前主键盘，<code>.next</code>下一个键盘，<code>.last</code>在最近使用的两个键盘间轮换，<code>.last_lock</code>返回上一个标记为<code>lock</code>的键盘）</li></ul><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#xxx.schema.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">switches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这个按键用来收起软键盘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_key_Hide</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;▼&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #states是显示在状态栏的图标，options是实际执行的功能</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这个按键用来调出输入法切换菜单</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_key_IME_switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;🌐&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 更多功能键请查阅trime.yaml/preset_keys</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这是一个空按键，按下去不会执行任何动作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_key_VoidSymbol</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;    &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#空键的宽度由这里的空格决定</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这个按键用来输出句号</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_key_period</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#period是句号的英文名，也可以直接写成[ _key_. ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这个按键用来输出固定的短语</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_key_吃饭了吗？</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;🍚&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 这个按键用来切换键盘布局（在主键盘、数字键盘、英文键盘之间轮换）</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_keyboard_.default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_keyboard_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_keyboard_letter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">默认</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">abc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #多个键盘轮换的功能还有一些问题，有待完善</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # 也可以只切换到一个特定的键盘</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">_keyboard_number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    states</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">123</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  #...</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-dca4f460 data-v-754b722d><!--[--><!--]--><!----><nav class="prev-next" data-v-754b722d><div class="pager" data-v-754b722d><a class="VPLink link pager-link prev" href="/rime/YamlTrime.html" data-v-754b722d><!--[--><span class="desc" data-v-754b722d>Previous page</span><span class="title" data-v-754b722d>YAML in trime</span><!--]--></a></div><div class="pager" data-v-754b722d><a class="VPLink link pager-link next" href="/rime/%E4%BA%94%E7%AC%94%E5%8F%8C%E9%94%AE%E9%85%8D%E7%BD%AE%E6%A1%88%E4%BE%8B%E8%AF%A6%E8%A7%A3(%E4%B8%80)-%E5%87%86%E5%A4%87%E7%AF%87.html" data-v-754b722d><!--[--><span class="desc" data-v-754b722d>Next page</span><span class="title" data-v-754b722d>(一) 准备篇</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-536465c6 data-v-67afa854><div class="container" data-v-67afa854><p class="message" data-v-67afa854>Released under the MIT License.</p><p class="copyright" data-v-67afa854>Copyright © 2023-present nopdan</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"rime_gettingstarted.md\":\"mmJpb972\",\"rime_combopinyin.md\":\"btY67MQS\",\"rime_rimewithibus.md\":\"zi2C8CQ_\",\"rime_downloads.md\":\"oxMxQ7tq\",\"rime_faq.md\":\"gkafpque\",\"rime_rimewithsquirrel.md\":\"nds2ORI9\",\"rime_recipes.md\":\"VhrMjn43\",\"rime_luahome.md\":\"C_NZ7ny0\",\"rime_rimewiththecode.md\":\"oN7Cwrwt\",\"rime_rimewithweasel.md\":\"m_f0WRHC\",\"rime_shareddata.md\":\"nxtANDfW\",\"rime_configuration.md\":\"KB08ppHH\",\"rime_weaselreleasemanual.md\":\"cu9iUiVe\",\"rime_introduction.md\":\"mtTDOpJ7\",\"index.md\":\"V0xfp0PL\",\"rime_index.md\":\"ijSlf_De\",\"rime_dictionarypack.md\":\"FIgrM_B5\",\"rime_combopinyinkbcon.md\":\"aA4ZHm2k\",\"rime_squirrelreleasemanual.md\":\"T2k-w6yi\",\"rime_home.md\":\"f-leJPnm\",\"rime_yamltrime.md\":\"C2uLWRsT\",\"rime_userquotes.md\":\"FNj60TzG\",\"rime_rime-in-emacs.md\":\"ABwCshMf\",\"rime_rime经典资料汇总-菜鸟书评.md\":\"vbwD3JsO\",\"rime__sidebar.md\":\"AnfGkpBC\",\"xingchen_index.md\":\"wHLp7Fj3\",\"rime_spellingalgebra.md\":\"xUr6inbp\",\"rime_rimeuserguide.md\":\"VMwaGmej\",\"rime_rimewiththedesign.md\":\"TBZ6UwLI\",\"rime_rimewithschemata.md\":\"i3bAG0CG\",\"rime_rime前端汇总.md\":\"lnVCYUaW\",\"rime_userguide.md\":\"EavAdO5O\",\"rime_rime汇总.md\":\"hMHqefTJ\",\"rime_rime-的独门绝技-菜鸟书评.md\":\"-Y-SZ5ki\",\"rime_moodcollection.md\":\"vmH9OMMf\",\"rime_五笔双键配置案例详解(四)-实现手机上的双键键盘.md\":\"hzJC4Xxs\",\"rime_rime方案製作詳解.md\":\"Rgakb-FY\",\"rime_rime定制指南.md\":\"Ma1SBWjR\",\"rime_yamlgrammar.md\":\"qic2cbrM\",\"rime_五笔双键配置案例详解(一)-准备篇.md\":\"4Oh0sofl\",\"about.md\":\"LyBc7qGz\",\"rime_trimer小知识(1)---yaml文件开头注释是什么意思？.md\":\"oEMEr5RF\",\"rime_五笔双键配置案例详解(二)-添加一个输入方案.md\":\"Yif5CIRt\",\"rime_userdata.md\":\"B1IVHPfw\",\"rime_五笔双键配置案例详解(三)-用模糊音实现双键转换.md\":\"e9TZAOu0\",\"rime_scripting.md\":\"R9vGx8qR\",\"rime_trime.yaml詳解.md\":\"v1EPBTUh\",\"rime_trimer小知识(2)---配置文件中的一些yaml语法.md\":\"0_95N9fa\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"文档\",\"description\":\"某不知名的输入法文档站\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"outline\":\"deep\",\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Rime\",\"link\":\"/rime/\"},{\"text\":\"List\",\"items\":[{\"text\":\"星辰双拼\",\"link\":\"/xingchen/\"},{\"text\":\"心流双拼\",\"link\":\"/xingchen/\"},{\"text\":\"小可两笔\",\"link\":\"/xingchen/\"},{\"text\":\"倾心两笔\",\"link\":\"/xingchen/\"}]}],\"sidebar\":{\"/test/\":[{\"text\":\"Examples\",\"items\":[{\"text\":\"Markdown Examples\",\"link\":\"/markdown-examples\"},{\"text\":\"Runtime API Examples\",\"link\":\"/api-examples\"}]}],\"/rime/\":[{\"text\":\"开始\",\"items\":[{\"text\":\"Home\",\"link\":\"/rime/\"},{\"text\":\"自序\",\"link\":\"/rime/Introduction\"},{\"text\":\"说明书\",\"link\":\"/rime/RimeUserGuide\"},{\"text\":\"Rime 汇总\",\"link\":\"/rime/Rime汇总\"}]},{\"text\":\"基础\",\"collapsed\":true,\"items\":[{\"text\":\"用户文件夹\",\"link\":\"/rime/UserData\"},{\"text\":\"共享文件夾\",\"link\":\"/rime/SharedData\"},{\"text\":\"YAML 语法\",\"link\":\"/rime/YamlGrammar\"},{\"text\":\"正则表达式\",\"link\":\"https://www.runoob.com/regexp/regexp-tutorial.html\"}]},{\"text\":\"进阶\",\"items\":[{\"text\":\"Rime 配置文件\",\"link\":\"/rime/Configuration\"},{\"text\":\"Rime 定制指南\",\"link\":\"/rime/Rime定制指南\"},{\"text\":\"输入方案设计书\",\"link\":\"/rime/RimeWithSchemata\"},{\"text\":\"Schema.yaml 詳解\",\"link\":\"/rime/Rime方案製作詳解\"},{\"text\":\"拼写运算\",\"link\":\"/rime/SpellingAlgebra\"}]},{\"text\":\"trime 同文\",\"items\":[{\"text\":\"简易索引\",\"link\":\"/rime/UserGuide\"},{\"text\":\"YAML in trime\",\"link\":\"/rime/YamlTrime\"},{\"text\":\"trime.yaml 詳解\",\"link\":\"/rime/trime.yaml詳解\"},{\"text\":\"案例参考-五笔双键配置案例详解(待完善)\",\"collapsed\":true,\"items\":[{\"text\":\"(一) 准备篇\",\"link\":\"/rime/五笔双键配置案例详解(一)-准备篇\"},{\"text\":\"(二) 添加一个输入方案\",\"link\":\"/rime/五笔双键配置案例详解(二)-添加一个输入方案\"},{\"text\":\"(三) 用模糊音实现双键转换\",\"link\":\"/rime/五笔双键配置案例详解(三)-用模糊音实现双键转换\"},{\"text\":\"(四) 实现手机上的双键键盘\",\"link\":\"/rime/五笔双键配置案例详解(四)-实现手机上的双键键盘\"}]}]},{\"text\":\"librime-lua\",\"items\":[{\"text\":\"Home\",\"link\":\"/rime/luaHome\"},{\"text\":\"脚本开发指南\",\"link\":\"/rime/Scripting\"}]},{\"text\":\"其他\",\"collapsed\":true,\"items\":[{\"text\":\"詞典擴展包\",\"link\":\"/rime/DictionaryPack\"},{\"text\":\"配方\",\"link\":\"/rime/Recipes\"},{\"text\":\"概念解讀\",\"link\":\"/rime/RimeWithTheDesign\"},{\"text\":\"心情集\",\"link\":\"/rime/MoodCollection\"},{\"text\":\"用家如是說\",\"link\":\"/rime/UserQuotes\"},{\"text\":\"FAQ\",\"link\":\"/rime/FAQ\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/nopdan/docs\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"16\\\" height=\\\"16\\\" fill=\\\"currentColor\\\" class=\\\"bi bi-tencent-qq\\\" viewBox=\\\"0 0 16 16\\\">\\n            <path d=\\\"M6.048 3.323c.022.277-.13.523-.338.55-.21.026-.397-.176-.419-.453-.022-.277.13-.523.338-.55.21-.026.397.176.42.453Zm2.265-.24c-.603-.146-.894.256-.936.333-.027.048-.008.117.037.15.045.035.092.025.119-.003.361-.39.751-.172.829-.129l.011.007c.053.024.147.028.193-.098.023-.063.017-.11-.006-.142-.016-.023-.089-.08-.247-.118Z\\\"/>\\n            <path fill-rule=\\\"evenodd\\\" d=\\\"M11.727 6.719c0-.022.01-.375.01-.557 0-3.07-1.45-6.156-5.015-6.156-3.564 0-5.014 3.086-5.014 6.156 0 .182.01.535.01.557l-.72 1.795a25.85 25.85 0 0 0-.534 1.508c-.68 2.187-.46 3.093-.292 3.113.36.044 1.401-1.647 1.401-1.647 0 .979.504 2.256 1.594 3.179-.408.126-.907.319-1.228.556-.29.213-.253.43-.201.518.228.386 3.92.246 4.985.126 1.065.12 4.756.26 4.984-.126.052-.088.088-.305-.2-.518-.322-.237-.822-.43-1.23-.557 1.09-.922 1.594-2.2 1.594-3.178 0 0 1.041 1.69 1.401 1.647.168-.02.388-.926-.292-3.113a25.78 25.78 0 0 0-.534-1.508l-.72-1.795ZM9.773 5.53c-.13-.286-1.431-.605-3.042-.605h-.017c-1.611 0-2.913.319-3.042.605a.096.096 0 0 0-.01.04c0 .022.008.04.018.056.11.159 1.554.943 3.034.943h.017c1.48 0 2.924-.784 3.033-.943a.095.095 0 0 0 .008-.096Zm-4.32-.989c-.483.022-.896-.529-.922-1.229-.026-.7.344-1.286.828-1.308.483-.022.896.529.922 1.23.027.7-.344 1.286-.827 1.307Zm2.538 0c.483.022.896-.529.922-1.229.026-.7-.344-1.286-.827-1.308-.484-.022-.896.529-.923 1.23-.026.7.344 1.285.828 1.307ZM2.928 8.99a10.674 10.674 0 0 0-.097 2.284c.146 2.45 1.6 3.99 3.846 4.012h.091c2.246-.023 3.7-1.562 3.846-4.011.054-.9 0-1.663-.097-2.285-1.312.26-2.669.41-3.786.396h-.017c-.297.003-.611-.005-.937-.023v2.148c-1.106.154-2.21-.068-2.21-.068V9.107a22.93 22.93 0 0 1-.639-.117Z\\\"/>\\n            </svg>\"},\"link\":\"http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=mCNAUgTWirjPnkYWf2tkfd_Px-1VEOyq&authKey=j0NgWMLeNtdhgZsZ9qvHm2Wvp8rC2gggl0MAmodnwk9TUvJ5KgXKTXI9K6w2jUOD&noverify=0&group_code=311818880\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2023-present nopdan\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>